{"version":3,"file":"mdb-angular-ui-kit-modal.js","sources":["../../../projects/mdb-angular-ui-kit/modal/modal-config.ts","../../../projects/mdb-angular-ui-kit/modal/modal-ref.ts","../../../projects/mdb-angular-ui-kit/modal/modal-container.component.ts","../../../projects/mdb-angular-ui-kit/modal/modal.service.ts","../../../projects/mdb-angular-ui-kit/modal/modal.module.ts","../../../projects/mdb-angular-ui-kit/modal/mdb-angular-ui-kit-modal.ts"],"names":[],"mappings":"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","sourcesContent":["import { ViewContainerRef } from '@angular/core';\n\n/* eslint-disable @typescript-eslint/no-inferrable-types */\nexport class MdbModalConfig<D = any> {\n  animation?: boolean = true;\n  backdrop?: boolean = true;\n  ignoreBackdropClick?: boolean = false;\n  keyboard?: boolean = true;\n  modalClass?: string = '';\n  containerClass?: string = '';\n  viewContainerRef?: ViewContainerRef;\n  data?: D | null = null;\n}\n","import { OverlayRef } from '@angular/cdk/overlay';\nimport { Observable, Subject } from 'rxjs';\nimport { MdbModalContainerComponent } from './modal-container.component';\n\nexport class MdbModalRef<T> {\n  constructor(protected _overlayRef: OverlayRef, private _container: MdbModalContainerComponent) {}\n\n  private readonly onClose$: Subject<any> = new Subject();\n  readonly onClose: Observable<any> = this.onClose$.asObservable();\n\n  close(message?: any): void {\n    this._container._close();\n\n    setTimeout(() => {\n      this._container._restoreScrollbar();\n      this.onClose$.next(message);\n      this.onClose$.complete();\n      this._overlayRef.detach();\n      this._overlayRef.dispose();\n    }, this._container.MODAL_TRANSITION);\n  }\n}\n","import { CdkPortalOutlet, ComponentPortal, TemplatePortal } from '@angular/cdk/portal';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ComponentRef,\n  ElementRef,\n  EmbeddedViewRef,\n  HostBinding,\n  Inject,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  ViewChild,\n} from '@angular/core';\nimport { MdbModalConfig } from './modal-config';\nimport { ConfigurableFocusTrapFactory, ConfigurableFocusTrap } from '@angular/cdk/a11y';\nimport { fromEvent, Subject } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { DOCUMENT } from '@angular/common';\n\n@Component({\n  selector: 'mdb-modal-container',\n  templateUrl: 'modal-container.component.html',\n  changeDetection: ChangeDetectionStrategy.Default,\n})\nexport class MdbModalContainerComponent implements OnInit, AfterViewInit, OnDestroy {\n  @ViewChild(CdkPortalOutlet, { static: true }) _portalOutlet: CdkPortalOutlet;\n  @ViewChild('dialog', { static: true }) modalDialog: ElementRef;\n\n  readonly _destroy$: Subject<void> = new Subject<void>();\n  readonly backdropClick$: Subject<MouseEvent> = new Subject<MouseEvent>();\n\n  _config: MdbModalConfig;\n\n  BACKDROP_TRANSITION = 150;\n  MODAL_TRANSITION = 200;\n\n  private _previouslyFocusedElement: HTMLElement;\n  private _focusTrap: ConfigurableFocusTrap;\n\n  @HostBinding('class.modal') modal = true;\n  @HostBinding('class.fade')\n  get hasAnimation(): boolean {\n    return this._config.animation;\n  }\n\n  constructor(\n    @Inject(DOCUMENT) private _document,\n    public _elementRef: ElementRef,\n    private _renderer: Renderer2,\n    private _focusTrapFactory: ConfigurableFocusTrapFactory\n  ) {}\n\n  ngOnInit(): void {\n    this._updateContainerClass();\n    this._renderer.addClass(this._document.body, 'modal-open');\n    this._renderer.setStyle(this._document.body, 'padding-right', '15px');\n    this._renderer.setStyle(this._elementRef.nativeElement, 'display', 'block');\n    this._previouslyFocusedElement = this._document.activeElement as HTMLElement;\n    this._focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement);\n\n    if (this._config.animation) {\n      setTimeout(() => {\n        this._renderer.addClass(this._elementRef.nativeElement, 'show');\n\n        setTimeout(() => {\n          this._focusTrap.focusInitialElementWhenReady();\n        }, this.MODAL_TRANSITION);\n      }, this.BACKDROP_TRANSITION);\n    } else {\n      this._focusTrap.focusInitialElementWhenReady();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (!this._config.ignoreBackdropClick) {\n      fromEvent(this._elementRef.nativeElement, 'mousedown')\n        .pipe(\n          filter((event: MouseEvent) => {\n            const target = event.target as HTMLElement;\n            const dialog = this.modalDialog.nativeElement;\n            const notDialog = target !== dialog;\n            const notDialogContent = !dialog.contains(target);\n            return notDialog && notDialogContent;\n          }),\n          takeUntil(this._destroy$)\n        )\n        .subscribe((event: MouseEvent) => {\n          this.backdropClick$.next(event);\n        });\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._previouslyFocusedElement.focus();\n    this._focusTrap.destroy();\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  private _updateContainerClass(): void {\n    if (\n      this._config.containerClass === '' ||\n      (this._config.containerClass.length && this._config.containerClass.length === 0)\n    ) {\n      return;\n    }\n\n    const containerClasses = this._config.containerClass.split(' ');\n\n    containerClasses.forEach((containerClass) => {\n      this._renderer.addClass(this._elementRef.nativeElement, containerClass);\n    });\n  }\n\n  _close(): void {\n    if (this._config.animation) {\n      this._renderer.removeClass(this._elementRef.nativeElement, 'show');\n    }\n\n    // Pause iframe/video when closing modal\n    const iframeElements = Array.from(this._elementRef.nativeElement.querySelectorAll('iframe'));\n    const videoElements = Array.from(this._elementRef.nativeElement.querySelectorAll('video'));\n\n    iframeElements.forEach((iframe: HTMLIFrameElement) => {\n      const srcAttribute: any = iframe.getAttribute('src');\n      this._renderer.setAttribute(iframe, 'src', srcAttribute);\n    });\n\n    videoElements.forEach((video: HTMLVideoElement) => {\n      video.pause();\n    });\n  }\n\n  _restoreScrollbar(): void {\n    this._renderer.removeClass(this._document.body, 'modal-open');\n    this._renderer.removeStyle(this._document.body, 'padding-right');\n  }\n\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\n    return this._portalOutlet.attachComponentPortal(portal);\n  }\n\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\n    return this._portalOutlet.attachTemplatePortal(portal);\n  }\n}\n","import { Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\nimport { ComponentPortal, ComponentType, TemplatePortal } from '@angular/cdk/portal';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ComponentFactoryResolver,\n  Inject,\n  Injectable,\n  Injector,\n  StaticProvider,\n  TemplateRef,\n} from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { filter, take } from 'rxjs/operators';\nimport { MdbModalConfig } from './modal-config';\nimport { MdbModalContainerComponent } from './modal-container.component';\nimport { MdbModalRef } from './modal-ref';\n\n@Injectable()\nexport class MdbModalService {\n  constructor(\n    @Inject(DOCUMENT) private _document,\n    private _overlay: Overlay,\n    private _injector: Injector,\n    private _cfr: ComponentFactoryResolver\n  ) {}\n\n  open<T, D = any>(\n    componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\n    config?: MdbModalConfig<D>\n  ): MdbModalRef<T> {\n    const defaultConfig = new MdbModalConfig();\n    config = config ? Object.assign(defaultConfig, config) : defaultConfig;\n\n    const overlayRef = this._createOverlay(config);\n    const container = this._createContainer(overlayRef, config);\n    const modalRef = this._createContent(componentOrTemplateRef, container, overlayRef, config);\n\n    this._registerListeners<T>(modalRef, config, container);\n\n    return modalRef;\n  }\n\n  private _createOverlay(config: MdbModalConfig): OverlayRef {\n    const overlayConfig = this._getOverlayConfig(config);\n    return this._overlay.create(overlayConfig);\n  }\n\n  private _getOverlayConfig(modalConfig: MdbModalConfig): OverlayConfig {\n    const config = new OverlayConfig({\n      positionStrategy: this._overlay.position().global(),\n      scrollStrategy: this._overlay.scrollStrategies.noop(),\n      hasBackdrop: modalConfig.backdrop,\n      backdropClass: 'mdb-backdrop',\n    });\n\n    return config;\n  }\n\n  private _createContainer(\n    overlayRef: OverlayRef,\n    config: MdbModalConfig\n  ): MdbModalContainerComponent {\n    const portal = new ComponentPortal(MdbModalContainerComponent, null, this._injector, this._cfr);\n    const containerRef = overlayRef.attach(portal);\n    containerRef.instance._config = config;\n    return containerRef.instance;\n  }\n\n  private _createContent<T>(\n    componentOrTemplate: ComponentType<T> | TemplateRef<T>,\n    container: MdbModalContainerComponent,\n    overlayRef: OverlayRef,\n    config: MdbModalConfig\n  ): MdbModalRef<T> {\n    const modalRef = new MdbModalRef(overlayRef, container);\n\n    if (componentOrTemplate instanceof TemplateRef) {\n      container.attachTemplatePortal(\n        new TemplatePortal<T>(componentOrTemplate, null, {\n          $implicit: config.data,\n          modalRef,\n        } as any)\n      );\n    } else {\n      const injector = this._createInjector<T>(config, modalRef, container);\n      const contentRef = container.attachComponentPortal<T>(\n        new ComponentPortal(componentOrTemplate, config.viewContainerRef, injector)\n      );\n\n      if (config.data) {\n        Object.assign(contentRef.instance, { ...config.data });\n      }\n    }\n\n    return modalRef;\n  }\n\n  private _createInjector<T>(\n    config: MdbModalConfig,\n    modalRef: MdbModalRef<T>,\n    container: MdbModalContainerComponent\n  ): Injector {\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n\n    // The dialog container should be provided as the dialog container and the dialog's\n    // content are created out of the same `ViewContainerRef` and as such, are siblings\n    // for injector purposes. To allow the hierarchy that is expected, the dialog\n    // container is explicitly provided in the injector.\n    const providers: StaticProvider[] = [\n      { provide: MdbModalContainerComponent, useValue: container },\n      { provide: MdbModalRef, useValue: modalRef },\n    ];\n\n    return Injector.create({ parent: userInjector || this._injector, providers });\n  }\n\n  private _registerListeners<T>(\n    modalRef: MdbModalRef<T>,\n    config: MdbModalConfig,\n    container: MdbModalContainerComponent\n  ): void {\n    container.backdropClick$.pipe(take(1)).subscribe(() => {\n      modalRef.close();\n    });\n\n    if (config.keyboard) {\n      fromEvent(container._elementRef.nativeElement, 'keydown')\n        .pipe(\n          filter((event: KeyboardEvent) => {\n            return event.key === 'Escape';\n          }),\n          take(1)\n        )\n        .subscribe(() => {\n          modalRef.close();\n        });\n    }\n  }\n}\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { NgModule } from '@angular/core';\nimport { MdbModalContainerComponent } from './modal-container.component';\nimport { MdbModalService } from './modal.service';\n\n@NgModule({\n  imports: [OverlayModule, PortalModule],\n  exports: [MdbModalContainerComponent],\n  declarations: [MdbModalContainerComponent],\n  providers: [MdbModalService],\n  entryComponents: [MdbModalContainerComponent],\n})\nexport class MdbModalModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}